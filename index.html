<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Немое немецкое кино смотреть онлайн - Stummfilm</title>

    <link rel="apple-touch-icon" sizes="57x57" href="resources/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="resources/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="resources/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="resources/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="resources/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="resources/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="resources/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="resources/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="resources/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="resources/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="./favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">
    <link rel="manifest" href="resources/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="msapplication-TileImage" content="resources/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#000000">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css">
    <link rel="stylesheet" href="resources/fonts/stylesheet.css" />
    <link rel="stylesheet" href="stylesheets/index.css" />
</head>

<body>
    <div id="welcome-screen">
        <h1>
            немое<br>
            немецкое<br>
            кино
        </h1>
    </div>

    <main>
        <div id="logo">
            <img src="resources/logo.svg" alt="Логотип">
        </div>

        <section id="catalog">
            <header>
                <h2>Каталог</h2>

                <div id="search-panel">
                    <div id="random-film">
                        <svg viewbox="0 0 192 192">
                            <circle cx="48" cy="40" r="8" />
                            <circle cx="72" cy="40" r="8" />
                            <circle cx="48" cy="64" r="8" />
                            <circle cx="72" cy="64" r="8" />
                            <path
                                d="M176.568,111.03l-39.6-39.6A24.051,24.051,0,0,0,112,65.764V24A24.027,24.027,0,0,0,88,0H32A24.027,24.027,0,0,0,8,24V80a24.027,24.027,0,0,0,24,24H70.461l-7.029,7.029a24,24,0,0,0,0,33.941l39.6,39.6a24,24,0,0,0,33.941,0l39.6-39.6a24,24,0,0,0,0-33.941ZM32,88a8.009,8.009,0,0,1-8-8V24a8.009,8.009,0,0,1,8-8H88a8.009,8.009,0,0,1,8,8V78.461L86.461,88Zm133.255,45.657-39.6,39.6a8,8,0,0,1-11.312,0h0l-39.6-39.6a8,8,0,0,1,0-11.313l39.6-39.6a8,8,0,0,1,11.313,0l39.6,39.6a8,8,0,0,1,0,11.313Z" />
                            <circle cx="120" cy="128" r="8" />
                        </svg>

                        Случайный фильм
                    </div>

                    <div id="mood-film">
                        <svg viewbox="0 0 512 512">
                            <path
                                d="m0 346c0 91.203 74.78 166 166 166 90.981 0 165-74.467 165-166 0-5.316-.263-10.572-.757-15.761 5.229.496 10.489.761 15.757.761 91.533 0 166-74.019 166-165 0-91.203-74.78-166-166-166-90.981 0-165 74.467-165 166 0 5.268.265 10.528.761 15.757-5.189-.494-10.445-.757-15.761-.757-91.533 0-166 74.019-166 165zm324.242-46.755c-6.917-23.371-18.88-44.593-34.625-62.403.293-.28.586-.559.86-.866 14.135-15.873 34.372-24.976 55.523-24.976s41.388 9.103 55.522 24.976c5.509 6.186 14.991 6.736 21.178 1.227s6.736-14.991 1.227-21.178c-19.821-22.259-48.224-35.025-77.927-35.025s-58.106 12.766-77.927 35.024c-.075.084-.136.174-.208.259-16.205-12.754-34.854-22.531-55.11-28.526-1.158-7.164-1.755-14.449-1.755-21.757 0-74.991 60.561-136 135-136 74.991 0 136 61.009 136 136 0 74.439-61.009 135-136 135-7.308 0-14.593-.597-21.758-1.755zm-294.242 46.755c0-74.439 61.009-135 136-135 74.439 0 135 60.561 135 135 0 74.991-60.561 136-135 136-74.991 0-136-61.009-136-136z" />
                            <path
                                d="m69.256 367.351c-2.811 3.982-3.511 9.082-1.878 13.674 14.879 41.854 54.512 69.975 98.622 69.975s83.743-28.121 98.622-69.976c1.633-4.593.932-9.692-1.878-13.674-2.811-3.982-7.381-6.35-12.255-6.35h-168.978c-4.874 0-9.444 2.368-12.255 6.351zm37.134 23.649h119.22c-13.897 18.521-35.848 30-59.61 30s-45.712-11.479-59.61-30z" />
                            <path
                                d="m241 316c0-8.271-6.729-15-15-15s-15 6.729-15 15c0 8.284-6.716 15-15 15s-15-6.716-15-15c0-24.813 20.187-45 45-45s45 20.187 45 45c0 8.284-6.716 15-15 15s-15-6.716-15-15z" />
                            <path
                                d="m106 271c24.813 0 45 20.187 45 45 0 8.284-6.716 15-15 15s-15-6.716-15-15c0-8.271-6.729-15-15-15s-15 6.729-15 15c0 8.284-6.716 15-15 15s-15-6.716-15-15c0-24.813 20.187-45 45-45z" />
                            <path
                                d="m361 121c0-8.284 6.716-15 15-15s15 6.716 15 15c0 8.271 6.729 15 15 15s15-6.729 15-15c0-8.284 6.716-15 15-15s15 6.716 15 15c0 24.813-20.187 45-45 45s-45-20.187-45-45z" />
                            <path
                                d="m286 166c-24.813 0-45-20.187-45-45 0-8.284 6.716-15 15-15s15 6.716 15 15c0 8.271 6.729 15 15 15s15-6.729 15-15c0-8.284 6.716-15 15-15s15 6.716 15 15c0 24.813-20.187 45-45 45z" />
                        </svg>

                        Найти по настроению
                    </div>

                    <div id="genre-film">
                        <svg viewbox="0 0 512 512">
                            <path
                                d="m216 362h-120c-8.284 0-15 6.716-15 15 0 41.355 33.645 75 75 75s75-33.645 75-75c0-8.284-6.716-15-15-15zm-60 60c-19.557 0-36.239-12.539-42.43-30h84.859c-6.19 17.461-22.872 30-42.429 30z" />
                            <path
                                d="m211 262c-13.451 0-26.096 5.238-35.606 14.749-5.858 5.858-5.858 15.355 0 21.213 5.857 5.857 15.355 5.857 21.213 0 3.844-3.845 8.956-5.962 14.393-5.962s10.549 2.117 14.394 5.962c2.929 2.929 6.768 4.394 10.606 4.394s7.678-1.465 10.606-4.393c5.858-5.858 5.858-15.355 0-21.213-9.51-9.512-22.155-14.75-35.606-14.75z" />
                            <path
                                d="m101 292c5.438 0 10.549 2.117 14.394 5.962 2.929 2.929 6.768 4.394 10.606 4.394s7.678-1.465 10.606-4.393c5.858-5.858 5.858-15.355 0-21.213-9.51-9.512-22.155-14.75-35.606-14.75s-26.096 5.238-35.606 14.749c-5.858 5.858-5.858 15.355 0 21.213 5.857 5.857 15.355 5.857 21.213 0 3.844-3.845 8.956-5.962 14.393-5.962z" />
                            <path
                                d="m425.394 103.966c-3.845 3.845-8.956 5.962-14.394 5.962s-10.549-2.117-14.394-5.962c-5.856-5.857-15.354-5.858-21.213 0-5.858 5.858-5.858 15.355 0 21.213 9.511 9.511 22.155 14.749 35.606 14.749s26.096-5.238 35.606-14.749c5.858-5.858 5.858-15.355 0-21.213-5.856-5.857-15.354-5.857-21.211 0z" />
                            <path
                                d="m315.394 103.966c-3.845 3.845-8.956 5.962-14.394 5.962s-10.549-2.117-14.394-5.962c-5.857-5.857-15.355-5.858-21.213 0s-5.858 15.355 0 21.213c9.511 9.511 22.155 14.749 35.606 14.749s26.096-5.238 35.606-14.749c5.858-5.858 5.858-15.355 0-21.213-5.856-5.857-15.354-5.857-21.211 0z" />
                            <path
                                d="m474.374 20.46c-78.548-27.28-158.202-27.28-236.748 0-21.907 7.608-36.626 28.472-36.626 51.917v102.646c-54.5-7.138-109.201-1.305-163.374 17.509-21.907 7.608-36.626 28.472-36.626 51.916v112.552c0 85.467 69.532 155 155 155s155-69.533 155-155v-23.711c14.492 4.404 29.55 6.639 45 6.639 85.468 0 155-69.533 155-155v-112.551c0-23.445-14.719-44.309-36.626-51.917zm-193.374 336.54c0 68.925-56.075 125-125 125s-125-56.075-125-125v-112.552c0-10.681 6.618-20.156 16.468-23.577 36.009-12.506 72.271-18.759 108.532-18.759s72.523 6.253 108.532 18.759c9.85 3.421 16.468 12.896 16.468 23.577zm200-172.072c0 68.925-56.075 125-125 125-15.595 0-30.689-2.813-45-8.353v-31.647h105c8.284 0 15-6.716 15-15 0-41.355-33.645-75-75-75-23.674 0-44.806 11.037-58.562 28.223-6.084-6.987-13.948-12.454-23.064-15.619-14.425-5.01-28.888-9.091-43.374-12.261v-107.894c0-10.681 6.618-20.156 16.468-23.577 72.018-25.013 145.047-25.013 217.064 0 9.85 3.421 16.468 12.895 16.468 23.577zm-167.43 55c6.19-17.461 22.873-30 42.43-30s36.239 12.539 42.43 30z" />
                        </svg>

                        Найти по жанру
                    </div>

                    <div id="search-film">
                        <svg viewbox="0 0 28 28">
                            <path
                                d="M11.5,2 C16.7467051,2 21,6.25329488 21,11.5 C21,13.5819334 20.3302914,15.5074481 19.1945516,17.0728665 L25.5606602,23.4393398 C26.1464466,24.0251263 26.1464466,24.9748737 25.5606602,25.5606602 C25.0114854,26.109835 24.142423,26.1441584 23.5532622,25.6636304 L23.4393398,25.5606602 L17.0728665,19.1945516 C15.5074481,20.3302914 13.5819334,21 11.5,21 C6.25329488,21 2,16.7467051 2,11.5 C2,6.25329488 6.25329488,2 11.5,2 Z M11.5,5 C7.91014913,5 5,7.91014913 5,11.5 C5,15.0898509 7.91014913,18 11.5,18 C15.0898509,18 18,15.0898509 18,11.5 C18,7.91014913 15.0898509,5 11.5,5 Z" />
                        </svg>

                        <input type="text" placeholder="Поиск по названию" id="search-input">
                    </div>
                </div>
            </header>

            <div class="extended-search-panel hide" id="genres-panel">
                <h3>Поиск фильма по жанру</h3>

                <span class="genre">Ужасы</span>
                <span class="genre">Фентези</span>
                <span class="genre">Драма</span>
                <span class="genre">Исторический</span>
                <span class="genre">Фантастика</span>
            </div>

            <div class="extended-search-panel hide" id="random-panel">
                <h3>Случайный фильм</h3>
                <div class="content">
                    <div id="random-fi">
                        <img src="resources/images/placeholder-random.png" alt="">
                    </div>

                    <button id="random-run">Мне повезёт!</button>
                </div>
            </div>

            <div class="film-list">
                <a class="item" href="films/golem.html" data-genres="Исторический, Фантастика, Драма">
                    <div class="poster">
                        <img data-src="resources/images/posters/golem-min.jpg" src="resources/images/placeholder-200x300.png" alt="Golem poster">
                        <span class="label-new">New!</span>
                    </div>
                    <div class="title">Голем, как он пришёл в мир</div>
                    <div class="year">1920</div>
                </a>

                <a class="item" href="films/" data-genres="">
                    <div class="poster">
                        <img data-src="resources/images/posters/caligari-min.jpg" src="resources/images/placeholder-200x300.png" alt="Кабинет доктора Калигари poster">
                    </div>
                    <div class="title">Кабинет доктора Калигари</div>
                    <div class="year">1920</div>
                </a>

                <a class="item" href="films/nosferatu.html" data-genres="Ужасы, Фентези">
                    <div class="poster">
                        <img data-src="resources/images/posters/nosferatu-min.jpg" src="resources/images/placeholder-200x300.png" alt="Nosferatu poster">
                    </div>
                    <div class="title">Носферату, симфония ужаса</div>
                    <div class="year">1922</div>
                </a>

                <a class="item" href="films/" data-genres="">
                    <div class="poster">
                        <img data-src="resources/images/posters/brennende-min.jpg" src="resources/images/placeholder-200x300.png" alt="Nosferatu poster">
                    </div>
                    <div class="title">Горящее поле</div>
                    <div class="year">1922</div>
                </a>

                <a class="item" href="films/faust.html" data-genres="Ужасы, Фентези, Драма">
                    <div class="poster">
                        <img data-src="resources/images/posters/faust-min.jpg" src="resources/images/placeholder-200x300.png" alt="Nosferatu poster">
                    </div>
                    <div class="title">Фауст</div>
                    <div class="year">1926</div>
                </a>

                <a class="item" href="films/" data-genres="">
                    <div class="poster">
                        <img data-src="resources/images/posters/frau-im-mond-min.jpg" src="resources/images/placeholder-200x300.png" alt="Nosferatu poster">
                    </div>
                    <div class="title">Женщина на луне</div>
                    <div class="year">1929</div>
                </a>
            </div>

        </section>
    </main>

    <footer>
        Made with <img src="resources/heart.svg" alt="love"> by 
        <a href="https://danielargent.github.io/index.html">Denis Tsvikevich</a>
    </footer>

    <script>
        function loadImageAsync(img) {
            let image = new Image();
            image.onload = () => img.setAttribute("src", image.src);
            image.src = img.getAttribute("data-src");
        }

        let images = document.querySelectorAll("img[data-src]");
        for (const image of images) {
            loadImageAsync(image);
        }

        function randomInteger(min, max) {
            let rand = min - 0.5 + Math.random() * (max - min + 1);
            return Math.round(rand);
        }

        let covers = [
            "resources/images/posters/golem-min.jpg",
            "resources/images/posters/caligari-min.jpg",
            "resources/images/posters/nosferatu-min.jpg",
            "resources/images/posters/brennende-min.jpg",
            "resources/images/posters/faust-min.jpg",
            "resources/images/posters/frau-im-mond-min.jpg"
        ];

        document.getElementById("random-film").addEventListener("click", () => {
            document.getElementById("random-film").classList.toggle("active");
            document.getElementById("random-panel").classList.toggle("hide");
        });

        document.getElementById("random-run").addEventListener("click", () => {
            let container = document.getElementById("random-fi");
            let items = [...document.querySelectorAll(".item")].map(item => {
                let itemClone = item.cloneNode(true);
                itemClone.classList.remove("item");
                itemClone.classList.add("random-result");
                return itemClone;
            });

            console.log(items)
            for (let i = 1; i <= 10; i++) {
                setTimeout(() => {
                    let randomId = randomInteger(0, covers.length - 1);
                    container.innerHTML = "";
                    container.appendChild(items[(randomId)]);
                }, 100 * i);
            }
        });

        var genres = [];

        function applyGenres() {
            for (const item of document.querySelectorAll(".item")) {
                if (genres.length === 0 && item.classList.contains("hide")) {
                    item.classList.remove("hide");
                    continue;
                }

                item.classList.add("hide");

                let itemGenres = item.getAttribute("data-genres");
                if (itemGenres) {
                    let flag = false;
                    for (const genre of genres) {
                        if (!itemGenres.includes(genre)) {
                            flag = true;
                            break;
                        }
                    }

                    if (!flag) {
                        item.classList.remove("hide");
                    }
                }
            }
        }

        function toggleGenre(event) {
            event.target.classList.toggle("active");

            let name = event.target.innerText;
            if (!genres.includes(name)) {
                genres.push(name);
            } else {
                genres.splice(genres.indexOf(name), 1);
            }

            applyGenres();
        }

        document.getElementById("genre-film").addEventListener("click", () => {
            document.getElementById("genre-film").classList.toggle("active");
            document.getElementById("genres-panel").classList.toggle("hide");
        });

        for (const element of document.getElementsByClassName("genre")) {
            element.addEventListener('click', toggleGenre);
        }

        let searchInput = document.querySelector("#search-input");

        function f() {
            let textToSearch = searchInput.value;

            if (textToSearch) {
                document.getElementById("search-film").classList.add("active");
            } else {
                document.getElementById("search-film").classList.remove("active");
            }

            for (const item of document.querySelectorAll(".item")) {
                let title = item.getElementsByClassName("title")[0].innerText.toLowerCase();

                item.style.display = 'none';

                if (!textToSearch || title.includes(textToSearch)) {
                    item.style.display = 'block';
                }
            }
        }

        searchInput.addEventListener('change', f);
        searchInput.addEventListener('input', f);
        /*
            function randomInteger(min, max) {
                // получить случайное число от (min-0.5) до (max+0.5)
                let rand = min - 0.5 + Math.random() * (max - min + 1);
                return Math.round(rand);
            }
    
            let prev = 0;
    
            document.querySelectorAll(".poster").forEach(item => {
                let deg = randomInteger(0, 5);
    
                if (deg <= 2 || prev === deg) {
                    deg = randomInteger(-5, -3);
                }
    
                prev = deg;
    
                item.style.webkitTransform = 'rotate('+deg+'deg)'; 
                item.style.mozTransform    = 'rotate('+deg+'deg)'; 
                item.style.msTransform     = 'rotate('+deg+'deg)'; 
                item.style.oTransform      = 'rotate('+deg+'deg)'; 
                item.style.transform       = 'rotate('+deg+'deg)'; 
                //item.style.transform = "rotate(" + randomInteger(1, 5) + "deg);"
            });
        */
    </script>
</body>

</html>